---
import Row from '../../ui/Row.astro'
import Col from '../../ui/Col.astro'
import StickySidebar from '../basic/StickySidebar.astro'
import Button from '../../ui/Button.astro'
import Feature from '../../ui/Feature.astro'

type FeatureData = {
  title: string
  icon: string
  description: string
}
type Props = {
  title: string
  text?: string
  data: FeatureData[]
  classes?: string
  buttonLink?: string
}
const { title, text, data, classes, buttonLink } = Astro.props
---

<StickySidebar classes={classes}>
  <header slot="sidebar">
    {title && <h3 class="text-3xl">{title}</h3>}
    {text && <p class="text-lg leading-relaxed">{text}</p>}
    {buttonLink && <Button size="lg" link={buttonLink}>En savoir plus</Button>}
  </header>

  <Row>
    {
      data.map((feature: FeatureData) => (
        <Col span="4">
          <Feature title={feature.title} icon={feature.icon} align="left" classes="mb-12">
            {feature.description}
          </Feature>
        </Col>
      ))
    }
  </Row>
</StickySidebar>
